<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Using system packages instead of pip - Software Factory</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="./using-system-packages-instead-of-pip.html">

        <meta name="author" content="Tristan de Cacqueray" />
        <meta name="description" content="Software Factory integrates softwares as RPM packages and this article presents three reasons why it does not use pip, or any other language specific package management system. System integration and shared libraries It is arguably useful to use virtualenvs and pip for development purposes. However, when deploying and operating an …" />

        <meta property="og:site_name" content="Software Factory" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Using system packages instead of pip"/>
        <meta property="og:url" content="./using-system-packages-instead-of-pip.html"/>
        <meta property="og:description" content="Software Factory integrates softwares as RPM packages and this article presents three reasons why it does not use pip, or any other language specific package management system. System integration and shared libraries It is arguably useful to use virtualenvs and pip for development purposes. However, when deploying and operating an …"/>
        <meta property="article:published_time" content="2018-06-10" />
            <meta property="article:section" content="blog" />
            <meta property="article:author" content="Tristan de Cacqueray" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="./theme/css/bootstrap.min.css" type="text/css"/>
    <link href="./theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="./theme/css/pygments/solarizedlight.css" rel="stylesheet">
        <link href="./theme/css/html4css1.css" rel="stylesheet">
    <link rel="stylesheet" href="./theme/css/style.css" type="text/css"/>


        <link href="./blog.xml" type="application/atom+xml" rel="alternate"
              title="Software Factory blog ATOM Feed"/>
</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="./" class="navbar-brand">
<img class="img-responsive pull-left gap-right" src="./images/SoftwareFactory-logo.svg" width="20px"/> Software Factory            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="./pages/contact.html">
                             Contact
                          </a></li>
                        <li class="active">
                            <a href="./category/blog.html">Blog</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<!-- Banner -->
<!-- End Banner -->

<!-- Content Container -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="./using-system-packages-instead-of-pip.html"
                       rel="bookmark"
                       title="Permalink to Using system packages instead of pip">
                        Using system packages instead of pip
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2018-06-10T00:00:00+00:00"> Sun 10 June 2018</time>
    </span>


            <span class="label label-default">By</span>
            <a href="./author/tristan-de-cacqueray.html"><i class="fa fa-user"></i> Tristan de Cacqueray</a>



    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Software Factory integrates softwares as RPM packages and this article presents
three reasons why it does not use pip, or any other language specific package
management system.</p>
<div class="section" id="system-integration-and-shared-libraries">
<h2>System integration and shared libraries</h2>
<p>It is arguably useful to use virtualenvs and pip for development purposes.
However, when deploying and operating an application in a production
environment, virtualenvs adds a lot of complexicity that can be avoided.</p>
<p>First, there is no need to maintain and update each and every virtualenvs.
For example, a security fix only needs to be installed once.</p>
<p>Then, shared libraries are available to every user of the system. There is
no need to add extra PYTHONPATH environments to each service.
Moreover, shared libraries reduce disk/memory usage and they are a bit
faster to load.</p>
</div>
<div class="section" id="less-moving-parts-and-reproducibility">
<h2>Less moving parts and reproducibility</h2>
<p>When installing software using pip, one ends up pulling the latest version
of every dependency. For example, a Zuul virtualenv currently contains 57
packages. The list may keep on growing whenever one of those packages adds
a new dependency in its next version.
All it takes is one of the many package maintainers to tag and release a
new version to get its code in your systems.</p>
<p>Without taking into account the security consideration of this workflow,
the biggest issue is the lack of reproducibility. Without careful tooling to
freeze the environment, two pip installations may differ and the one which is
deployed may very well be broken by an untested release of one of the
dependencies.
Looking at the requirements.txt git log shows many instances of such
un-controlled breakage.</p>
</div>
<div class="section" id="re-use-distribution-package-manager">
<h2>Re-use distribution package manager</h2>
<p>Finally, using system packages lets one re-use the package manager included in
the Linux distribution. It features battle-tested dependency management
and comes with many features that may not be implemented in language specific
package management systems like pip:</p>
<ul class="simple">
<li>Rollback;</li>
<li>Tracability;</li>
<li>Integrity verification;</li>
<li>Consistency accross all system packages; and</li>
<li>Security updates.</li>
</ul>
</div>
<div class="section" id="conclusion">
<h2>Conclusion</h2>
<p>Setting up the system to build and distribute system packages may take
some time, see this <a class="reference external" href="./overview-of-a-cicd-workflow-with-zuul.html">previous article</a>.
But it is a one time cost and has been a much benefical decision for the
Software Factory project as it solved all the above mentioned issues.</p>
</div>

            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Recent Posts -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
  <ul class="list-group" id="recentposts">
    <li class="list-group-item"><a href="./sprint-2024-aug-09-to-2024-aug-28-summary.html">Sprint 2024 Aug 09 to 2024 Aug 28 summary</a></li>
    <li class="list-group-item"><a href="./sprint-2024-jul-19-to-2024-aug-07-summary.html">Sprint 2024 Jul 19 to 2024 Aug 07 summary</a></li>
    <li class="list-group-item"><a href="./sprint-2024-jun-28-to-2024-jul-17-summary.html">Sprint 2024 Jun 28 to 2024 Jul 17 summary</a></li>
    <li class="list-group-item"><a href="./sprint-2024-jun-07-to-2024-jun-26-summary.html">Sprint 2024 Jun 07 to 2024 Jun 26 summary</a></li>
    <li class="list-group-item"><a href="./sprint-2024-may-16-to-2024-jun-05-summary.html">Sprint 2024 May 16 to 2024 Jun 05 summary</a></li>
  </ul>
</li>
<!-- End Sidebar/Recent Posts -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<!-- End Content Container -->

<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2024 Red Hat
           &middot; Powered by <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>
           &middot; This work is licensed under a
               <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
                 Creative Commons Attribution 4.0 International License
               </a>.
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="./theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="./theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="./theme/js/respond.min.js"></script>




</body>
</html>