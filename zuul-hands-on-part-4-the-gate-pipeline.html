<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Zuul Hands on - part 4 - The gate pipeline - Software Factory</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="./zuul-hands-on-part-4-the-gate-pipeline.html">

        <meta name="author" content="Fabien Boucher" />
        <meta name="keywords" content="zuul-hands-on-series" />
        <meta name="description" content="In this article, we will explain one of the most important features of Zuul: the dependent pipeline, also known as the gate pipeline. This article is part of the Zuul hands-on series. The examples and commands that follow are intended to be run on a Software Factory sandbox where a …" />

        <meta property="og:site_name" content="Software Factory" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Zuul Hands on - part 4 - The gate pipeline"/>
        <meta property="og:url" content="./zuul-hands-on-part-4-the-gate-pipeline.html"/>
        <meta property="og:description" content="In this article, we will explain one of the most important features of Zuul: the dependent pipeline, also known as the gate pipeline. This article is part of the Zuul hands-on series. The examples and commands that follow are intended to be run on a Software Factory sandbox where a …"/>
        <meta property="article:published_time" content="2018-10-02" />
            <meta property="article:section" content="blog" />
            <meta property="article:tag" content="zuul-hands-on-series" />
            <meta property="article:author" content="Fabien Boucher" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="./theme/css/bootstrap.min.css" type="text/css"/>
    <link href="./theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="./theme/css/pygments/solarizedlight.css" rel="stylesheet">
        <link href="./theme/css/html4css1.css" rel="stylesheet">
    <link rel="stylesheet" href="./theme/css/style.css" type="text/css"/>


        <link href="./blog.xml" type="application/atom+xml" rel="alternate"
              title="Software Factory blog ATOM Feed"/>
</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="./" class="navbar-brand">
<img class="img-responsive pull-left gap-right" src="./images/SoftwareFactory-logo.svg" width="20px"/> Software Factory            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="./pages/contact.html">
                             Contact
                          </a></li>
                        <li class="active">
                            <a href="./category/blog.html">Blog</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<!-- Banner -->
<!-- End Banner -->

<!-- Content Container -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="./zuul-hands-on-part-4-the-gate-pipeline.html"
                       rel="bookmark"
                       title="Permalink to Zuul Hands on - part 4 - The gate pipeline">
                        Zuul Hands on - part 4 - The gate pipeline
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2018-10-02T00:00:00+00:00"> Tue 02 October 2018</time>
    </span>


            <span class="label label-default">By</span>
            <a href="./author/fabien-boucher.html"><i class="fa fa-user"></i> Fabien Boucher</a>



<span class="label label-default">Tags</span>
	<a href="./tag/zuul-hands-on-series.html">zuul-hands-on-series</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>In this article, we will explain one of the most important features of Zuul:
the <strong>dependent pipeline</strong>, also known as the <strong>gate pipeline</strong>.</p>
<p>This article is part of the <a class="reference external" href="./tag/zuul-hands-on-series.html">Zuul hands-on series</a>.</p>
<p>The examples and commands that follow are intended to be run on a Software Factory
sandbox where a <strong>demo-repo</strong> repository exists. You should have such an environment
after following the previous articles in this series:</p>
<ul class="simple">
<li>To deploy a Software Factory sandbox please read the <a class="reference external" href="./how-to-setup-a-software-factory-sandbox.html">first article of the series</a>.</li>
<li>To create the <strong>demo-repo</strong> repository, please follow the sections <a class="reference external" href="./zuul-hands-on-part-2-your-first-gated-patch-with-zuul.html#clone-the-config-repository">Clone the config repository</a>
and <a class="reference external" href="./zuul-hands-on-part-2-your-first-gated-patch-with-zuul.html#define-the-demo-repo-repository">Define the demo-repo repository</a> sections.</li>
</ul>
<p>Incidentally, most of the links reference <em>sftests.com</em> which is the default
domain of the sandbox. Make sure to adapt the links if necessary.</p>
<p>If you have already deployed a Software Factory sandbox and created a snapshot as
suggested, you can restore this snapshot in order to follow this article on a clean environment.
In that case make sure the virtual machine's time is correct post
restoration. If not fix it by running</p>
<div class="highlight"><pre><span></span>systemctl stop ntpd<span class="p">;</span> ntpd -gq<span class="p">;</span> systemctl start ntpd
</pre></div>
<div class="section" id="the-broken-master-phenomenon">
<h2>The broken master phenomenon</h2>
<p>Keeping the master branch sane can be difficult when:</p>
<ul class="simple">
<li>validating a patch takes a long time (eg. complex test suite)</li>
<li>the amount of patches proposals submitted to a project is quite high</li>
</ul>
<p>Until now, the best practices to mitigate these problems were to enforce the following:</p>
<ul class="simple">
<li>run continuous builds and test suites on master after each commit or as often
as possible</li>
<li>have several maintainers granted with the power to reject or accept patches
into the project's master branch</li>
</ul>
<p>These best practices, however, do <strong>not</strong> guarantee the health of the master branch
<em>at any given time</em>. Let's consider this very common scenario on a project with
two maintainers, <strong>M1</strong> and <strong>M2</strong>:</p>
<ol class="arabic simple">
<li><strong>M1</strong> reviews change <strong>A</strong> before integration: s.he applies <strong>A</strong> to the current tip of the
master branch (<strong>HEAD+A</strong>) and tests the code. After testing succeeds, <strong>M1</strong> refreshes the
master branch, commits and pushes <strong>A</strong> to the remote central repository.</li>
<li>In the time it took <strong>M1</strong> to test and push <strong>A</strong>, <strong>M2</strong> had approved change <strong>B</strong> and pushed
it to the remote repository. This means the master branch history is actually <strong>HEAD+B+A</strong>,
instead of <strong>HEAD+A</strong> as it was validated by <strong>M1</strong>.</li>
<li>Unfortunately, <strong>B</strong> has side effects on <strong>A</strong> and the master branch is no longer building or
passing tests.</li>
</ol>
<p>In other words the master branch is <strong>broken</strong>, and everybody working on the project
is impacted in some way, either because their own code won't build, or because they
have to figure out the problem and fix it.</p>
<p>Sure, continuous builds help catch the problem as soon as possible, but if
building and running tests are costly operations in time and/or resources, and
therefore aren't performed after every commit, how many patches might have landed
since the breakage, making it even more difficult to pinpoint the change that caused
the issue?</p>
<p>One could also object that maintainers just have to always make sure to
validate patches on the latest version of the master branch, but it might just
be too hard to enforce manually in projects where commits can occur faster than
testing or building. One would have to implement some form of &quot;merging semaphore&quot;,
meaning that maintainers would have to wait on each other, beating the purpose of
having several of them in the first place.</p>
<p>But what if we could avoid that trouble altogether and <strong>guarantee</strong> by design
of the integration pipeline that the master branch can pass tests and build <em>at all times</em>?</p>
</div>
<div class="section" id="zuul-the-gate-keeper">
<h2>Zuul, the gate keeper</h2>
<p>The trick is to deport the merging powers of the maintainers to a <strong>single, automated
&quot;gate keeper&quot;</strong>. Maintainers approve patches for merging, and the gate keeper makes
sure they can land without breaking the master branch.</p>
<p>Enter <strong>Zuul</strong>:</p>
<p>Thanks to its gate pipeline, Zuul decides whether a patch can be merged
into the master branch or not, by ensuring the patch is always tested over the
latest version of master prior to merging. This pipeline is designed to avoid
breaking the master branch.</p>
<p>The gate pipeline takes care of the git rebases in order
to run CI job(s) on the expected state of the master at the time the patch will
be merged. This is called <strong>speculative testing</strong>. Let's see how it changes the
previous scenario, this time in chronological order:</p>
<ol class="arabic simple">
<li>Maintainer <strong>M2</strong> approves change <strong>B</strong> for merging. Zuul gates it by running the acceptance
tests on <strong>HEAD+B</strong>.</li>
<li>Maintainer <strong>M1</strong> approves change <strong>A</strong> for merging as Zuul is still in the process of
gating <strong>B</strong>. Zuul gates it by running the acceptance tests on <strong>HEAD+B+A</strong>. This is where the
speculation bit occurs, since <strong>B</strong> isn't in master yet but is <em>expected</em> to land before <strong>A</strong>,
<em>assuming its gating ends with success</em>.</li>
<li>Testing on <strong>HEAD+B</strong> succeeds, <strong>B</strong> is merged into the master branch.</li>
<li>Testing on <strong>HEAD+B+A</strong> fails, <strong>A</strong> is rejected. The maintainer or <strong>A</strong>'s author must
rework it.</li>
</ol>
<p>(for simplicity's sake, we'll call acceptance tests, builds, and generally any kind
of automation used to validate a patch <em>&quot;jobs&quot;</em>.)</p>
<p>The gate pipeline ensures that the merging order of patches
is the same as their approval order. If jobs for change <strong>B</strong>, that is on top
of the gate pipeline, are still running when all jobs for change <strong>A</strong> have
succeeded, then zuul will wait for <strong>B</strong>'s jobs to finish to merge <strong>B</strong>
then <strong>A</strong>.</p>
<p>What happens if <strong>B</strong> is rejected, though? The gate pipeline is able to discard
failing patches and rebase subsequent changes in order to optimize testing time.
For example, let's imagine changes <strong>A</strong>, <strong>B</strong> and <strong>C</strong> have entered the gate
pipeline in that order, and that a job fails when <strong>B</strong> is on top of <strong>A</strong>. The
pipeline will evolve like so:</p>
<ol class="arabic simple">
<li><ul class="first">
<li>HEAD + A</li>
<li>HEAD + A + B</li>
<li>HEAD + A + B + C</li>
</ul>
</li>
<li><ul class="first">
<li>HEAD + A</li>
<li>HEAD + A + B <strong>FAIL</strong></li>
<li>HEAD + A + B + C <strong>CANCELED</strong></li>
</ul>
</li>
<li><ul class="first">
<li>HEAD + A</li>
<li>HEAD + A + C <strong>REBASED AND RESTARTED</strong></li>
</ul>
</li>
</ol>
<p>Instead of waiting for <strong>C</strong>'s jobs that will propably fail as <strong>B</strong> introduced
an issue, Zuul immediately cancels <strong>C</strong>'s jobs, rebases <strong>C</strong> on <strong>A</strong> and restarts <strong>C</strong>'s
jobs. Zuul reports the issue for <strong>B</strong> on the code review system.</p>
</div>
<div class="section" id="let-s-test-it">
<h2>Let's test it</h2>
<p>Clone the <strong>demo-repo</strong> and provision it with
<a class="reference external" href="./demo-codes/hoz-4-demo-repo.tgz">this demo code</a> .</p>
<div class="highlight"><pre><span></span>git clone -c http.sslVerify<span class="o">=</span><span class="nb">false</span> https://sftests.com/r/demo-repo
<span class="nb">cd</span> demo-repo
git review -s <span class="c1"># Enter admin as username</span>
tar -xzf /tmp/hoz-4-demo-repo.tgz -C .
</pre></div>
<p>Then, we are going to:</p>
<ul class="simple">
<li>define the <strong>demo-repo</strong> project's pipelines</li>
<li>modify the project's tox configuration to add some delaying in the CI process</li>
<li>submit and approve three patches to simulate how Zuul detects a future broken
master and discards the broken patch.</li>
</ul>
<div class="section" id="setup-ci-jobs">
<h3>Setup CI jobs</h3>
<p>First, in <strong>.zuul.yaml</strong>, define the project's pipelines. We use the virtual job
<strong>noop</strong> in the check pipeline to force Zuul to return a positive CI note
<strong>+1 Verified</strong>.</p>
<div class="highlight"><pre><span></span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">project</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">check</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">jobs</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">noop</span><span class="w"></span>
<span class="w">    </span><span class="nt">gate</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">jobs</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tox-py27</span><span class="w"></span>
</pre></div>
<p>Second, create the script <strong>trigger.sh</strong> in order to better highlight the
gate pipeline's specificities in the status page. It adds some delay in the job's
execution time based on the existence of some files at the root of the project.</p>
<div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="k">if</span> <span class="o">[</span> -f c3 <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    sleep <span class="m">20</span>
    <span class="nb">exit</span> <span class="m">0</span>
<span class="k">fi</span>
<span class="k">if</span> <span class="o">[</span> -f c2 <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">exit</span> <span class="m">0</span>
<span class="k">fi</span>
<span class="k">if</span> <span class="o">[</span> -f c1 <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    sleep <span class="m">90</span>
    <span class="nb">exit</span> <span class="m">0</span>
<span class="k">fi</span>
</pre></div>
<p>We make sure this script runs prior to unit testing by modifying the
<strong>tox.ini</strong> file as indicated below.</p>
<div class="highlight"><pre><span></span><span class="k">[tox]</span><span class="w"></span>
<span class="na">envlist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">pep8,py27</span><span class="w"></span>

<span class="k">[testenv]</span><span class="w"></span>
<span class="na">whitelist_externals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">*</span><span class="w"></span>
<span class="na">deps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">nose</span><span class="w"></span>
<span class="na">commands</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="w">  </span><span class="na">./trigger.sh</span><span class="w"></span>
<span class="w">  </span><span class="na">nosetests -v</span><span class="w"></span>

<span class="k">[testenv:pep8]</span><span class="w"></span>
<span class="na">deps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">flake8</span><span class="w"></span>
<span class="na">commands</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">flake8</span><span class="w"></span>
</pre></div>
<p>Finally, submit the change on Gerrit:</p>
<div class="highlight"><pre><span></span>chmod +x trigger.sh
git add -A .
git commit -m<span class="s2">&quot;Init demo-repo pipelines&quot;</span>
git review
</pre></div>
<p>Do not forget to approve the patch to let it land.</p>
</div>
<div class="section" id="run-the-scenario">
<h3>Run the scenario</h3>
<p>In this scenario we propose three changes:</p>
<ul class="simple">
<li>The first change (<strong>A</strong>) changes the value returned by the run method.</li>
<li>The second change (<strong>B</strong>) adds a test to verify the length of the string returned
by the run method is less than ten characters. This change simulates a
situation where the unit tests pass when based on the tip of master
but fail when rebased on (<strong>A</strong>).</li>
<li>The third patch (<strong>C</strong>) adds a README.md file to the project. Its purpose
is to see how Zuul rebases it on (<strong>A</strong>), once the issue with (<strong>B</strong>) is
detected.</li>
</ul>
<p>Patches are available in <a class="reference external" href="./demo-codes/hoz-5-patches.tgz">this archive</a>.</p>
<div class="highlight"><pre><span></span><span class="c1"># Reset local copy to the base commit</span>
git reset --hard <span class="k">$(</span>git log --pretty<span class="o">=</span>oneline <span class="p">|</span> grep <span class="s2">&quot;Init demo-repo pipelines&quot;</span> <span class="p">|</span> awk <span class="o">{</span><span class="s1">&#39;print $1&#39;</span><span class="o">}</span> <span class="p">|</span> head -1<span class="k">)</span>
git am ../A.patch <span class="o">&amp;&amp;</span> git review -i

<span class="c1"># Reset local copy to the base commit</span>
git reset --hard HEAD^1
git am ../B.patch <span class="o">&amp;&amp;</span> git review -i

<span class="c1"># Reset local copy to the base commit</span>
git reset --hard HEAD^1
git am ../C.patch <span class="o">&amp;&amp;</span> git review -i
</pre></div>
<p>In the gate pipeline, before merging the changes, Zuul will test them speculatively.</p>
<p>Let's approve all of them in the right order.</p>
<div class="highlight"><pre><span></span><span class="nv">cmsgs</span><span class="o">=(</span><span class="s2">&quot;Change run payload&quot;</span> <span class="s2">&quot;Add payload size test&quot;</span> <span class="s2">&quot;Add project readme file&quot;</span><span class="o">)</span><span class="p">;</span>
<span class="k">for</span> msg <span class="k">in</span> <span class="nv">$cmsgs</span><span class="p">;</span>
<span class="k">do</span>
<span class="nv">rn</span><span class="o">=</span><span class="k">$(</span>python -c <span class="s2">&quot;</span>
<span class="s2">import sys,json,requests;</span>
<span class="s2">from requests.packages.urllib3.exceptions import InsecureRequestWarning;requests.packages.urllib3.disable_warnings(InsecureRequestWarning);</span>
<span class="s2">changes=json.loads(requests.get(&#39;https://sftests.com/r/changes/&#39;, verify=False).text[5:]);</span>
<span class="s2">m=[c for c in changes if c[&#39;subject&#39;] == sys.argv[1]][0];</span>
<span class="s2">print ( m[&#39;_number&#39;] )&quot;</span> <span class="nv">$msg</span><span class="k">)</span><span class="p">;</span>
<span class="nb">echo</span> <span class="s2">&quot;Set change approval (CR+2 and W+1) on change </span><span class="nv">$rn</span><span class="s2">,1&quot;</span><span class="p">;</span>
ssh -p <span class="m">29418</span> admin@sftests.com gerrit review <span class="nv">$rn</span>,1 --code-review +2 --workflow +1<span class="p">;</span>
<span class="k">done</span>
</pre></div>
<p>Then have a look at <a class="reference external" href="https://sftests.com/zuul/t/local/status">Zuul's status page (sftests.com)</a>.</p>
<img alt="None" src="images/zuul-hands-on-part5-c1.png" />
<p>You should soon observe that Zuul has canceled the running job for <strong>C</strong>, and rebased
it on change <strong>A</strong> as <strong>B</strong> introduces an issue when rebased on <strong>A</strong>. Zuul won't
merge <strong>B</strong> but will report the failure on Gerrit; <strong>A</strong> and <strong>C</strong> will build successfully
and be merged.</p>
<img alt="None" src="images/zuul-hands-on-part5-c2.png" />
<img alt="None" src="images/zuul-hands-on-part5-c3.png" />
<p>Let's have a look at the Zuul Scheduler's logs (<em>/var/log/zuul/scheduler.log</em>), try ssh to sftests.com virtual machine:</p>
<p>The executor is told to start the tox-py27 job for change 25 (rebased on 24)</p>
<div class="highlight"><pre><span></span>2018-09-04 10:25:44,795 INFO zuul.ExecutorClient: Execute job tox-py27 (uuid: 93dd828f3e62481e88f329f2eeed2608) on nodes &lt;NodeSet OrderedDict([((&#39;container&#39;,), &lt;Node 0000000030 (&#39;container&#39;,):runc-centos&gt;)])OrderedDict()&gt; for change &lt;Change 0x7f53140ffd30 25,1&gt; with dependent changes [{&#39;change&#39;: &#39;24&#39;, &#39;branch&#39;: &#39;master&#39;, &#39;change_url&#39;: &#39;https://sftests.com/r/24&#39;, &#39;project&#39;: {&#39;short_name&#39;: &#39;demo-repo&#39;, &#39;canonical_hostname&#39;: &#39;sftests.com&#39;, &#39;canonical_name&#39;: &#39;sftests.com/demo-repo&#39;, &#39;src_dir&#39;: &#39;src/sftests.com/demo-repo&#39;, &#39;name&#39;: &#39;demo-repo&#39;}, &#39;patchset&#39;: &#39;1&#39;}, {&#39;change&#39;: &#39;25&#39;, &#39;branch&#39;: &#39;master&#39;, &#39;change_url&#39;: &#39;https://sftests.com/r/25&#39;, &#39;project&#39;: {&#39;short_name&#39;: &#39;demo-repo&#39;, &#39;canonical_hostname&#39;: &#39;sftests.com&#39;, &#39;canonical_name&#39;: &#39;sftests.com/demo-repo&#39;, &#39;src_dir&#39;: &#39;src/sftests.com/demo-repo&#39;, &#39;name&#39;: &#39;demo-repo&#39;}, &#39;patchset&#39;: &#39;1&#39;}]
# job started
2018-09-04 10:25:50,533 INFO zuul.ExecutorClient: Build &lt;gear.Job 0x7f5314138080 handle: b&#39;H:10.0.2.15:17&#39; name: executor:execute unique: 93dd828f3e62481e88f329f2eeed2608&gt; started
[...]
</pre></div>
<p>The executor process reports the issue to the scheduler</p>
<div class="highlight"><pre><span></span>2018-09-04 10:27:25,748 INFO zuul.ExecutorClient: Build &lt;gear.Job 0x7f5314138080 handle: b&#39;H:10.0.2.15:17&#39; name: executor:execute unique: 93dd828f3e62481e88f329f2eeed2608&gt; complete, result FAILURE
# the scheduler detects the nearest change in the queue is a failure so 26 is rebased on 24
2018-09-04 10:27:25,769 INFO zuul.Pipeline.local.gate: Resetting builds for change &lt;Change 0x7f5319341e10 26,1&gt; because the item ahead, &lt;QueueItem 0x7f5318208400 for &lt;Change 0x7f53140ffd30 25,1&gt; in gate&gt;, is not the nearest non-failing item, &lt;QueueItem 0x7f53140934a8 for &lt;Change 0x7f5314096390 24,1&gt; in gate&gt;
[...]
</pre></div>
<p>Restart the <em>tox-py27</em> job with the updated context</p>
<div class="highlight"><pre><span></span>2018-09-04 10:27:35,513 INFO zuul.ExecutorClient: Execute job tox-py27 (uuid: adfe76dd347e4b0fba56395a319ac67a) on nodes &lt;NodeSet OrderedDict([((&#39;container&#39;,), &lt;Node 0000000033 (&#39;container&#39;,):runc-centos&gt;)])OrderedDict()&gt; for change &lt;Change 0x7f5319341e10 26,1&gt; with dependent changes [{&#39;change&#39;: &#39;24&#39;, &#39;branch&#39;: &#39;master&#39;, &#39;change_url&#39;: &#39;https://sftests.com/r/24&#39;, &#39;project&#39;: {&#39;short_name&#39;: &#39;demo-repo&#39;, &#39;canonical_hostname&#39;: &#39;sftests.com&#39;, &#39;canonical_name&#39;: &#39;sftests.com/demo-repo&#39;, &#39;src_dir&#39;: &#39;src/sftests.com/demo-repo&#39;, &#39;name&#39;: &#39;demo-repo&#39;}, &#39;patchset&#39;: &#39;1&#39;}, {&#39;change&#39;: &#39;26&#39;, &#39;branch&#39;: &#39;master&#39;, &#39;change_url&#39;: &#39;https://sftests.com/r/26&#39;, &#39;project&#39;: {&#39;short_name&#39;: &#39;demo-repo&#39;, &#39;canonical_hostname&#39;: &#39;sftests.com&#39;, &#39;canonical_name&#39;: &#39;sftests.com/demo-repo&#39;, &#39;src_dir&#39;: &#39;src/sftests.com/demo-repo&#39;, &#39;name&#39;: &#39;demo-repo&#39;}, &#39;patchset&#39;: &#39;1&#39;}]
</pre></div>
</div>
</div>
<div class="section" id="conclusion">
<h2>Conclusion</h2>
<p>Zuul's <strong>dependent pipeline</strong> is an elegant way to ensure the health of code
repositories at all times, allowing developers to focus on more important things like
new features, and expanding and automating test coverage.</p>
<p>In this article, we showcased a simple use case but the features of the
<strong>dependent pipeline</strong> also apply to complex project testing scenarios
(supported by Zuul) like:</p>
<ul class="simple">
<li>multiple, parallelized jobs</li>
<li>cross projects testing</li>
<li>multi nodes jobs</li>
</ul>
<p>This concludes this article about the <strong>gate pipeline</strong>. Stay tuned for the
next article about Zuul secrets usage.</p>
</div>

            </div>
            <!-- /.entry-content -->
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Recent Posts -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
  <ul class="list-group" id="recentposts">
    <li class="list-group-item"><a href="./sprint-2024-aug-09-to-2024-aug-28-summary.html">Sprint 2024 Aug 09 to 2024 Aug 28 summary</a></li>
    <li class="list-group-item"><a href="./sprint-2024-jul-19-to-2024-aug-07-summary.html">Sprint 2024 Jul 19 to 2024 Aug 07 summary</a></li>
    <li class="list-group-item"><a href="./sprint-2024-jun-28-to-2024-jul-17-summary.html">Sprint 2024 Jun 28 to 2024 Jul 17 summary</a></li>
    <li class="list-group-item"><a href="./sprint-2024-jun-07-to-2024-jun-26-summary.html">Sprint 2024 Jun 07 to 2024 Jun 26 summary</a></li>
    <li class="list-group-item"><a href="./sprint-2024-may-16-to-2024-jun-05-summary.html">Sprint 2024 May 16 to 2024 Jun 05 summary</a></li>
  </ul>
</li>
<!-- End Sidebar/Recent Posts -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<!-- End Content Container -->

<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2024 Red Hat
           &middot; Powered by <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>
           &middot; This work is licensed under a
               <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
                 Creative Commons Attribution 4.0 International License
               </a>.
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="./theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="./theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="./theme/js/respond.min.js"></script>




</body>
</html>